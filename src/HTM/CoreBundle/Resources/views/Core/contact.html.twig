{% extends "HTMCoreBundle::layout.html.twig" %}

{% block title %}
  Contact - {{ parent() }}
{% endblock %}

{% block body %}
<!-- Main content -->
<section class="container">
    <h2 class="page-heading heading--outcontainer">Contact</h2>

    <div class="contact">
        <p class="contact__title">You have any questions or need help, <br><span class="contact__describe">don’t be shy and contact us</span></p>
        <span class="contact__mail">support@hellotamilmovie.com</span>
        <span class="contact__tel">support@hellotamilmovie.com</span>
    </div>
</section>
<div class="contact-form-wrapper">
    <div class="container">
        <div class="col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2">
            {{ form_start(form, {'attr': {'class': 'form row', 'id':'contact-form'} }) }}
            	{# Les erreurs générales du formulaire. #}
                {{ form_errors(form) }}
                <p class="form__title">Drop us a line</p>
                <div class="col-sm-6">
                	{{ form_widget(form.name, {'attr': {'class': 'form__name', 'name':'user-name', 'placeholder':'Your name'}}) }}
                </div>
                <div class="col-sm-6">
                    {{ form_widget(form.email, {'attr': {'class': 'form__mail', 'name':'user-email', 'placeholder':'Your email'}}) }}
                </div>
                <div class="col-sm-12">
                    {{ form_widget(form.message, {'attr': {'class': 'form__message', 'name':'user-message', 'placeholder':'Your message'}}) }}
                </div>
                {{ form_widget(form.send, {'attr': {'class': 'btn btn-md btn--danger', 'onClick':'verifyContactForm()'}}) }}
                {{ form_rest(form) }}
            {{ form_end(form) }}
        </div>
    </div>
</div>
<div class="clearfix"></div>
    {# Afin d'afficher un message si le message est bien envoyé#}
    {% for flashMessage in app.session.flashbag.get('notice') %}
        <script>
            var self = $('#contact-form');
            self.children().fadeOut(300,function(){ $(this).hide() })
            $('<p class="success"><span class="success-huge">Thank you!</span> <br> {{ flashMessage }}</p>').appendTo(self)
                .hide().delay(300).fadeIn();
        </script>
    {% endfor %}
{% endblock %}